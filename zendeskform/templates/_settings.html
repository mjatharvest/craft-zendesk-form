{% import "_includes/forms" as forms %}

{% macro configWarning(setting) -%}
	{{ "This is being overridden by the {setting} config setting in your zendeskform.php config file."|t({
		setting: setting
	})|raw }}
{%- endmacro %}

{% from _self import configWarning %}

{{ forms.textField({
	first:        true,
	label:        "ZDAPIKEY"|t,
	required:     true,
	id:           'ZDAPIKEY',
	name:         'ZDAPIKEY',
	instructions: "The API Key to connect to Zen Desk"|t,
	value:        settings.ZDAPIKEY,
	autofocus:    true,
	disabled:     (craft.config.get('ZDAPIKEY', 'zendeskform') is not sameas(null)),
	warning:      (craft.config.get('ZDAPIKEY', 'zendeskform') is not sameas(null)) ? configWarning('ZDAPIKEY'),
	errors:       settings.getErrors('ZDAPIKEY')
}) }}

{{ forms.textField({
	first:        true,
	label:        "ZDUSER"|t,
	required:     true,
	id:           'ZDUSER',
	name:         'ZDUSER',
	instructions: "The Zen Desk API User"|t,
	value:        settings.ZDAPIKEY,
	autofocus:    true,
	disabled:     (craft.config.get('ZDUSER', 'zendeskform') is not sameas(null)),
	warning:      (craft.config.get('ZDUSER', 'zendeskform') is not sameas(null)) ? configWarning('ZDUSER'),
	errors:       settings.getErrors('ZDUSER')
}) }}

{{ forms.textField({
	first:        true,
	label:        "ZDURL"|t,
	required:     true,
	id:           'ZDURL',
	name:         'ZDURL',
	instructions: "The Zen Desk API url"|t,
	value:        settings.ZDAPIKEY,
	autofocus:    true,
	disabled:     (craft.config.get('ZDURL', 'zendeskform') is not sameas(null)),
	warning:      (craft.config.get('ZDURL', 'zendeskform') is not sameas(null)) ? configWarning('ZDURL'),
	errors:       settings.getErrors('ZDURL')
}) }}

{{ forms.textField({
	label:        "Honeypot Field"|t,
	id:           'honeypotField',
	name:         'honeypotField',
	instructions: "The name of the 'honeypot' field in your Contact Form."|t,
	value:        settings.honeypotField,
	disabled:     (craft.config.get('honeypotField', 'zendeskform') is not sameas(null)),
	warning:      (craft.config.get('honeypotField', 'zendeskform') is not sameas(null)) ? configWarning('honeypotField'),
	errors:       settings.getErrors('honeypotField')
}) }}

{{ forms.textField({
	label:        "Success Flash Message"|t,
	id:           "successFlashMessage",
	name:         "successFlashMessage",
	instructions: "The flash message displayed after successfully sending a message."|t,
	value:        settings.successFlashMessage,
	disabled:     (craft.config.get('successFlashMessage', 'zendeskform') is not sameas(null)),
	warning:      (craft.config.get('successFlashMessage', 'zendeskform') is not sameas(null)) ? configWarning('successFlashMessage'),
	errors:       settings.getErrors('successFlashMessage')
}) }}
